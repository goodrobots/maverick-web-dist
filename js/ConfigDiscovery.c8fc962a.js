(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ConfigDiscovery"],{cf55:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},i=[],a=(n("b0c0"),n("8055"),{name:"ConfigDiscovery",components:{},data:function(){return{}},computed:{items:function(){return{default:window.location.host}}},mounted:function(){},methods:{createConnection:function(){var e=this,t="ws://"+window.location.hostname+":1234",n=new WebSocket(t);n.onopen=function(){e.logInfo("Connected to discovery service: "+t)},n.onmessage=function(t){var n=JSON.parse(t.data);"maverick-api"==n.service_type&&e.createApi(n),"webrtc"==n.service_type&&e.createVideo(n)}},createApi:function(e){if(!this.apis[e.uuid]&&"maverick-api"==e.service_type){this.logInfo("Creating new API connection from discovered service: ".concat(e.name));var t={key:e.uuid,httpEndpoint:e.httpEndpoint,wsEndpoint:e.wsEndpoint,schemaEndpoint:e.schemaEndpoint,websocketsOnly:e.websocketsOnly,name:e.name,colorLight:"rgba(166,11,11,0.3)",colorDark:"rgba(166,11,11,0.9)",authToken:null};this.$store.commit("data/addApi",{key:t.key,data:t}),this.$toast.info("Created new API connection from discovery: <strong>".concat(e.name,"</strong>"))}},createVideo:function(e){if(!this.$store.state.data.videostreams[e.uuid]&&"webrtc"==e.service_type){this.logInfo("Creating new Video stream from discovered service: ".concat(e.name));var t={key:e.uuid,name:e.name,webrtcEndpoint:e.wsEndpoint,enabled:!1,action:"start"};this.$store.commit("data/addVideoStream",{key:t.key,data:t}),this.$toast.info("Created new Video Stream from discovery: <strong>".concat(e.name,"</strong>"))}}}}),c=a,r=n("2877"),s=Object(r["a"])(c,o,i,!1,null,null,null);t["default"]=s.exports}}]);
//# sourceMappingURL=ConfigDiscovery.c8fc962a.js.map