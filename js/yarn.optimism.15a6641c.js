(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["yarn.optimism"],{e328:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return W}));var r=n("8438");function i(){}var s=function(){function t(t,e){void 0===t&&(t=1/0),void 0===e&&(e=i),this.max=t,this.dispose=e,this.map=new Map,this.newest=null,this.oldest=null}return t.prototype.has=function(t){return this.map.has(t)},t.prototype.get=function(t){var e=this.getEntry(t);return e&&e.value},t.prototype.getEntry=function(t){var e=this.map.get(t);if(e&&e!==this.newest){var n=e.older,r=e.newer;r&&(r.older=n),n&&(n.newer=r),e.older=this.newest,e.older.newer=e,e.newer=null,this.newest=e,e===this.oldest&&(this.oldest=r)}return e},t.prototype.set=function(t,e){var n=this.getEntry(t);return n?n.value=e:(n={key:t,value:e,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(t,n),n.value)},t.prototype.clean=function(){while(this.oldest&&this.map.size>this.max)this.delete(this.oldest.key)},t.prototype.delete=function(t){var e=this.map.get(t);return!!e&&(e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.map.delete(t),this.dispose(e.value,t),!0)},t}(),u=new r["a"],o=[],a=[],l=100;function h(t,e){if(!t)throw new Error(e||"assertion failure")}function c(t,e){var n=t.length;return n>0&&n===e.length&&t[n-1]===e[n-1]}function p(t){switch(t.length){case 0:throw new Error("unknown value");case 1:return t[0];case 2:throw t[1]}}function d(t){return t.slice(0)}var f=function(){function t(e,n){this.fn=e,this.args=n,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++t.count}return t.prototype.recompute=function(){if(h(!this.recomputing,"already recomputing"),y(this)||!M(this))return g(this)?w(this):p(this.value)},t.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,m(this),A(this))},t.prototype.dispose=function(){var t=this;z(this).forEach(M),A(this),this.parents.forEach((function(e){e.setDirty(),D(e,t)}))},t.count=0,t}();function y(t){var e=u.getValue();if(e)return t.parents.add(e),e.childValues.has(t)||e.childValues.set(t,[]),g(t)?V(e,t):C(e,t),e}function w(t){var e=z(t);return u.withValue(t,v,[t]),O(t)&&b(t),e.forEach(M),p(t.value)}function v(t){t.recomputing=!0,t.value.length=0;try{t.value[0]=t.fn.apply(null,t.args)}catch(e){t.value[1]=e}t.recomputing=!1}function g(t){return t.dirty||!(!t.dirtyChildren||!t.dirtyChildren.size)}function b(t){t.dirty=!1,g(t)||k(t)}function m(t){t.parents.forEach((function(e){return V(e,t)}))}function k(t){t.parents.forEach((function(e){return C(e,t)}))}function V(t,e){if(h(t.childValues.has(e)),h(g(e)),t.dirtyChildren){if(t.dirtyChildren.has(e))return}else t.dirtyChildren=a.pop()||new Set;t.dirtyChildren.add(e),m(t)}function C(t,e){h(t.childValues.has(e)),h(!g(e));var n=t.childValues.get(e);0===n.length?t.childValues.set(e,d(e.value)):c(n,e.value)||t.setDirty(),E(t,e),g(t)||k(t)}function E(t,e){var n=t.dirtyChildren;n&&(n.delete(e),0===n.size&&(a.length<l&&a.push(n),t.dirtyChildren=null))}function M(t){return 0===t.parents.size&&"function"===typeof t.reportOrphan&&!0===t.reportOrphan()}function z(t){var e=o;return t.childValues.size>0&&(e=[],t.childValues.forEach((function(n,r){D(t,r),e.push(r)}))),h(null===t.dirtyChildren),e}function D(t,e){e.parents.delete(t),t.childValues.delete(e),E(t,e)}function O(t){if("function"===typeof t.subscribe)try{A(t),t.unsubscribe=t.subscribe.apply(null,t.args)}catch(e){return t.setDirty(),!1}return!0}function A(t){var e=t.unsubscribe;"function"===typeof e&&(t.unsubscribe=void 0,e())}var j=function(){function t(t){this.weakness=t}return t.prototype.lookup=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.lookupArray(t)},t.prototype.lookupArray=function(t){var e=this;return t.forEach((function(t){return e=e.getChildTrie(t)})),e.data||(e.data=Object.create(null))},t.prototype.getChildTrie=function(e){var n=this.weakness&&x(e)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),r=n.get(e);return r||n.set(e,r=new t(this.weakness)),r},t}();function x(t){switch(typeof t){case"object":if(null===t)break;case"function":return!0}return!1}var S=new j("function"===typeof WeakMap);function J(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return S.lookupArray(t)}var T=new Set;function W(t,e){void 0===e&&(e=Object.create(null));var n=new s(e.max||Math.pow(2,16),(function(t){return t.dispose()})),r=!!e.disposable,i=e.makeCacheKey||J;function o(){if(!r||u.hasValue()){var s=i.apply(null,arguments);if(void 0===s)return t.apply(null,arguments);var o=Array.prototype.slice.call(arguments),a=n.get(s);a?a.args=o:(a=new f(t,o),n.set(s,a),a.subscribe=e.subscribe,r&&(a.reportOrphan=function(){return n.delete(s)}));var l=a.recompute();return n.set(s,a),T.add(n),u.hasValue()||(T.forEach((function(t){return t.clean()})),T.clear()),r?void 0:l}}return o.dirty=function(){var t=i.apply(null,arguments),e=void 0!==t&&n.get(t);e&&e.setDirty()},o}}}]);
//# sourceMappingURL=yarn.optimism.15a6641c.js.map