(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ConfigParamList"],{"29cb":function(e,t,a){"use strict";var i=a("e3cc"),s=a.n(i);s.a},"3bba":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"px-2 py-2",attrs:{fluid:"","grid-list-xl":""}},[a("v-layout",{staticClass:"layout-attach",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-dialog",{attrs:{"max-width":"500px",attach:".layout-attach"},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[a("v-card",[a("v-card-title",{staticClass:"pb-0"},[a("span",{staticClass:"headline"},[e._v("Edit Parameter")]),a("v-spacer"),a("v-card-actions",[a("v-btn",{attrs:{outlined:"",color:"grey lighten-1"},nativeOn:{click:function(t){return e.close(t)}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:e.navColor},nativeOn:{click:function(t){return e.save(t)}}},[e._v("Save")])],1)],1),a("v-card-text",{staticClass:"pt-0"},[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{domProps:{innerHTML:e._s(e.editedItem.id)}}),a("div",{staticClass:"body-2 font-weight-bold",domProps:{innerHTML:e._s(e.editedItem.meta&&e.editedItem.meta.humanName)}})])],1),a("v-layout",{attrs:{wrap:""}},[e.editedItem.meta&&"boolean"===e.editedItem.type?[a("v-flex",{attrs:{xs12:""}},[a("v-switch",{attrs:{label:e.editedItem.value?"Enabled":"Disabled",color:e.navColor,"persistent-hint":"",suffix:e.editedItem.meta&&e.editedItem.meta.units},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)]:e.editedItem.meta&&"slider"===e.editedItem.type?[a("v-flex",{attrs:{xs9:""}},[a("v-slider",{staticClass:"pt-8",attrs:{min:e.editedItem.meta.min,max:e.editedItem.meta.max,step:e.editedItem.increment,color:e.navColor+" lighten-2","thumb-label":"","persistent-hint":"",suffix:e.editedItem.meta&&e.editedItem.meta.units},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1),a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{type:"number",hint:"Override","persistent-hint":""},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)]:e.editedItem.meta&&"bitmask"===e.editedItem.type?[a("v-flex",{attrs:{xs9:""}},e._l(JSON.parse(e.editedItem.meta.bitmask),(function(t,i){return a("v-checkbox",{key:i,attrs:{"hide-details":"",label:t,color:e.navColor},model:{value:e.editedItem.bitmasks,callback:function(t){e.$set(e.editedItem,"bitmasks",t)},expression:"editedItem.bitmasks"}})})),1),a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{type:"number",hint:"Override","persistent-hint":""},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)]:e.editedItem.meta&&"radio"==e.editedItem.type?[a("v-flex",{attrs:{xs9:""}},[a("v-radio-group",{attrs:{mandatory:!1,"hide-details":""},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}},e._l(JSON.parse(e.editedItem.meta.values),(function(t,i){return a("v-radio",{key:t,attrs:{"hide-details":"",label:i+"("+t.toString()+")",value:t.toString(),color:e.navColor}})})),1)],1),a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{type:"number",hint:"Override","persistent-hint":""},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)]:e.editedItem.meta&&"select"===e.editedItem.type?[a("v-flex",{attrs:{xs9:""}},[a("v-select",{staticClass:"input-group--focused",attrs:{items:e.editedItem.selectValues,label:"Parameter Value",color:e.navColor,dense:"","single-line":"",bottom:"",autofocus:"","persistent-hint":"",suffix:e.editedItem.meta&&e.editedItem.meta.units},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1),a("v-flex",{attrs:{xs3:""}},[a("v-text-field",{attrs:{type:"number",hint:"Override","persistent-hint":""},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)]:[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Value",autofocus:"","persistent-hint":"",suffix:e.editedItem.meta&&e.editedItem.meta.units},model:{value:e.editedItem.value,callback:function(t){e.$set(e.editedItem,"value",t)},expression:"editedItem.value"}})],1)]],2),a("v-divider",{staticClass:"mt-3"}),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{"xs-12":""}},[e.editedItem.meta&&e.editedItem.meta.documentation?[a("div",{staticClass:"pt-1 caption grey--text"},[e._v("Documentation")]),a("div",{staticClass:"font-weight-medium",domProps:{innerHTML:e._s(e.editedItem.meta.documentation)}})]:e._e()],2),e.editedItem.meta&&e.editedItem.meta.rebootRequired?[a("v-alert",{staticClass:"my-1 py-1 mx-1 my-1",attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[e._v("Reboot required to activate changes to this parameter")])]:e._e()],2),a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{"xs-12":""}},[e.editedItem.meta&&e.editedItem.meta.humanGroup?[a("div",{staticClass:"pt-2 caption grey--text"},[e._v("Group")]),a("div",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.editedItem.meta.humanGroup)}})]:e.editedItem.meta&&e.editedItem.meta.group?[a("div",{staticClass:"pt-2 caption grey--text"},[e._v("Group")]),a("div",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.editedItem.meta.group)}})]:e._e(),e.editedItem.meta&&e.editedItem.meta.values?[a("div",{staticClass:"pt-2 caption grey--text"},[e._v("Values")]),a("table",{attrs:{width:"90%"}},e._l(JSON.parse(e.editedItem.meta.values),(function(t,i){return a("tr",[t==e.editedItem.value?[a("td",{staticClass:"font-weight-bold",attrs:{width:"25%"}},[e._v(e._s(i))]),a("td",[a("strong",[e._v(e._s(t))]),e._v(" (Current Value)")])]:[a("td",{attrs:{width:"25%"}},[e._v(e._s(i))]),a("td",[a("strong",[e._v(e._s(t))])])]],2)})),0)]:e._e(),e.editedItem.meta&&(e.editedItem.meta.min||e.editedItem.meta.max||e.editedItem.meta.increment)?[a("div",{staticClass:"pt-2 caption grey--text"},[e._v("Range")]),a("table",{attrs:{width:"90%"}},[a("thead",[a("tr",[a("th",{staticClass:"grey--text text-left"},[e._v("Min")]),a("th",{staticClass:"grey--text text-left"},[e._v("Max")]),a("th",{staticClass:"grey--text text-left"},[e._v("Increment")])])]),a("tbody",[a("tr",[e.editedItem.meta.min?a("td",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.editedItem.meta.min)}}):a("td",{staticClass:"grey--text"},[e._v("--")]),e.editedItem.meta.max?a("td",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.editedItem.meta.max)}}):a("td",{staticClass:"grey--text"},[e._v("--")]),e.editedItem.meta.increment?a("td",{staticClass:"font-weight-bold",domProps:{innerHTML:e._s(e.editedItem.meta.increment)}}):a("td",{staticClass:"grey--text"},[e._v("--")])])])])]:e._e(),e.editedItem.meta&&e.editedItem.meta.units?[a("div",{staticClass:"pt-1 caption grey--text"},[e._v("Units")]),a("div",{domProps:{innerHTML:e._s(e.editedItem.meta.units)}},[e._v('span(v-if="editedItem.meta.unitText") ('+e._s(e.editedItem.meta.unitText)+")")])]:e._e()],2)],1)],1)],1)],1)],1),a("v-card",{staticClass:"px-0 py-0 transparent elevation-0"},[a("v-card-title",[a("div",{staticClass:"flex-grow-1"}),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",color:e.navColor},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"transparent px-2 pt-0 pb-4",attrs:{dense:"","sort-by":["id"],search:e.search,headers:e.headers,items:e.params,"item-key":"id","custom-filter":e.customFilter,"footer-props":{itemsPerPageOptions:[10,25,50]},"single-expand":"",expanded:e.expanded,"show-expand":""},on:{"update:expanded":function(t){e.expanded=t}},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return t.stopPropagation(),e.editItem(i)}}},[e._v("mdi-pencil")])]}},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{attrs:{colspan:"20"}},[a("v-card",[a("v-card-text",[a("table",{staticClass:"px-0 py-0 expanded-table",attrs:{width:"100%"}},[i&&"meta"in i&&i.meta.documentation?a("tr",[a("td",[a("strong",[e._v("Documentation")])]),a("td",[a("span",{domProps:{innerHTML:e._s(e.highlight(i.meta.documentation,e.search))}})])]):e._e(),i&&"meta"in i&&i.meta.fields?[a("tr",[a("td",[a("strong",[e._v("Fields")])]),a("td",{staticClass:"pt-1"},e._l(JSON.parse(i.meta.fields),(function(t,i){return a("div",[a("strong",[e._v(e._s(i)+": "+e._s(t))])])})),0)])]:e._e(),i&&"meta"in i&&i.meta.values?[a("tr",[a("td",[a("strong",[e._v("Values")])]),a("td",{staticClass:"pt-1"},e._l(JSON.parse(i.meta.values),(function(t,s){return a("div",[s==i.value?a("span",{staticClass:"primary--text"},[e._v(e._s(s)+": "),a("strong",[e._v(e._s(t))]),e._v(" (Active)")]):a("span",[e._v(e._s(s)+": "),a("strong",[e._v(e._s(t))])])])})),0)])]:e._e()],2)])],1)],1)]}},{key:"body.append",fn:function(){return[a("tr",[a("td"),a("td"),a("td",[a("v-select",{attrs:{items:e.groups,dense:"",color:e.navColor},model:{value:e.groupSelect,callback:function(t){e.groupSelect=t},expression:"groupSelect"}})],1)])]},proxy:!0}])},[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"},scopedSlots:e._u([{key:"no-results",fn:function(){return[e._v('Your search for "'+e._s(e.search)+'" found no results.')]},proxy:!0}])})],1)],1)],1)],1)],1)},s=[],d=(a("99af"),a("7db0"),a("c740"),a("4160"),a("caad"),a("c975"),a("d81d"),a("b64b"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("6062"),a("2532"),a("3ca3"),a("5319"),a("1276"),a("159b"),a("ddb0"),a("2909")),n=a("3900"),r={name:"ConfigParamList",data:function(){var e=this;return{params:[],expanded:[],groups:[],groupSelect:null,headers:[{text:"",value:"",sortable:!1},{text:"Group",value:"meta.group",align:"left",width:100,filter:function(t){return!e.groupSelect||t.includes(e.groupSelect)}},{text:"Name",value:"id",align:"left"},{text:"Value",value:"value",align:"left",sortable:!1},{text:"Description",value:"meta.humanName",align:"left",sortable:!1},{text:"Actions",value:"action",sortable:!1}],search:"",editDialog:!1,editedIndex:-1,editedItem:{id:null,value:null,meta:null},bitmasks:[]}},watch:{activeApi:{handler:function(e){this.logDebug("activeApi changed: "+e),this.createQlQueries()}}},mounted:function(){this.activeApi&&this.createQlQueries();var e=document.querySelectorAll(".datatable.table, .datatable__actions");Object.keys(e).forEach((function(t){e[t].className+=" transparent"}))},destroyed:function(){},methods:{close:function(){this.editDialog=!1},createQlQueries:function(){this.logDebug("doing createQlQueries"),this.createQuery("ParameterList",n["paramsQuery"],this.activeApi,null,!this.apis[this.activeApi].state,this.processParameterList),this.createSubscription("Parameter",n["paramSubscription"],this.activeApi,null,!this.apis[this.activeApi].state,this.processParameter)},customFilter:function(e,t,a){return t=t.toString().toLocaleUpperCase(),null!=e&&null!=t&&null!==a&&"string"===typeof a.id&&(a.id&&a.id.toString().toLocaleUpperCase().includes(t)||a.value&&a.value.toString().toLocaleUpperCase().includes(t)||a.meta&&a.meta.humanName&&a.meta.humanName.toString().toLocaleUpperCase().includes(t)||a.meta.documentation&&a.meta.documentation.toString().toLocaleUpperCase().includes(t))},editItem:function(e){this.editedIndex=this.params.map((function(e){return e.id})).indexOf(e.id),this.editedItem=Object.assign({},e);var t=JSON.parse(this.editedItem.meta.values);if(this.editedItem.meta&&this.editedItem.meta.type&&"BOOLEAN"===this.editedItem.meta.type)this.editedItem.type="boolean";else if(this.editedItem.meta&&this.editedItem.meta.type&&"BITMASK"===this.editedItem.meta.type){var a=JSON.parse(this.editedItem.meta.bitmask),i=Object.keys(a).reverse(),s=this.editedItem.value;this.logDebug(i);var d=[];for(var n in i){var r=i[n];this.logDebug(r),s-r>=0&&(this.logDebug(r),d.push(r.toString()),s-=r)}this.logDebug(d),this.editedItem.bitmasks=d,this.editedItem.type="bitmask"}else this.editedItem.meta&&this.editedItem.meta.values&&Object.keys(t).length<=6?(this.editedItem.value=this.editedItem.value.toString(),this.editedItem.type="radio"):this.editedItem.meta&&this.editedItem.meta.values?(this.editedItem.selectValues=Object.keys(t).map((function(e){return{value:e,text:t[e]}})),this.editedItem.value=this.editedItem.value.toString(),this.editedItem.type="select"):this.editedItem.meta&&null!=this.editedItem.meta.min&&null!=this.editedItem.meta.max?(this.editedItem.type="slider",this.editedItem.meta.increment?this.editedItem.increment=this.editedItem.meta.increment:this.editedItem.meta.max-this.editedItem.meta.min>1e3?this.editedItem.increment=100:this.editedItem.meta.max-this.editedItem.meta.min>100?this.editedItem.increment=10:this.editedItem.meta.max-this.editedItem.meta.min>10?this.editedItem.increment=1:this.editedItem.meta.max-this.editedItem.meta.min>1?this.editedItem.increment=.1:this.editedItem.meta.max-this.editedItem.meta.min>.1?this.editedItem.increment=.01:this.editedItem.increment=.001):this.editedItem.type="input";this.editDialog=!0},findParam:function(e){return this.params.find((function(t){return t.id===e}))},findParamIndex:function(e){return this.params.findIndex((function(t){return t.id===e}))},highlight:function(e,t){return t?e.replace(new RegExp(t,"gi"),(function(e){return'<span class="primary--text">'.concat(e,"</span>")})):e},processParameter:function(e,t){var a=this.findParamIndex(e.data.Parameter.id);this.$set(this.params,a,e.data.Parameter)},processParameterList:function(e,t){var a=this,i=t.split("___")[0];e.loading||this.params.length||Object.keys(e.data.ParameterList.parameters).forEach((function(t){a.$set(a.params,t,e.data.ParameterList.parameters[t])})),this.groups=Object(d["a"])(new Set(this.params.map((function(e){return e.meta.group.replace(/\d+$/,"")})))),this.logDebug("Received ".concat(this.params.length," Parameters for api '").concat(i,"'"))},save:function(){this.editedItem.bitmasks&&(this.logDebug("bitmasks!"),this.logDebug(this.editedItem.bitmasks)),this.mutateQuery(this.activeApi,n["updateParam"],{id:this.editedItem.id,value:this.editedItem.value}),this.close()},valueFormat:function(e){if(e.meta&&e.meta.units)return"".concat(e.value,' <span class="caption"><strong>').concat(e.meta.units,"</strong></span>");if(e&&e.meta&&e.meta.values){var t=JSON.parse(e.meta.values);if(t[e.value])return t[e.value]}return e?e.value:null}}},m=r,l=(a("29cb"),a("2877")),o=a("6544"),c=a.n(o),u=a("0798"),v=a("8336"),p=a("b0af"),h=a("99d9"),I=a("ac7c"),f=a("a523"),x=a("8fea"),g=a("169a"),b=a("ce7e"),_=a("0e8f"),y=a("132d"),C=a("a722"),k=a("67b6"),S=a("43a6"),w=a("b974"),P=a("ba0d"),V=a("2fa4"),O=a("b73d"),L=a("8654"),D=Object(l["a"])(m,i,s,!1,null,"14478ac3",null);t["default"]=D.exports;c()(D,{VAlert:u["a"],VBtn:v["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCheckbox:I["a"],VContainer:f["a"],VDataTable:x["a"],VDialog:g["a"],VDivider:b["a"],VFlex:_["a"],VIcon:y["a"],VLayout:C["a"],VRadio:k["a"],VRadioGroup:S["a"],VSelect:w["a"],VSlider:P["a"],VSpacer:V["a"],VSwitch:O["a"],VTextField:L["a"]})},e3cc:function(e,t,a){}}]);
//# sourceMappingURL=ConfigParamList.638f21ea.js.map