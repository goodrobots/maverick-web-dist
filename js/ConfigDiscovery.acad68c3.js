(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ConfigDiscovery"],{cf55:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-iterator",{attrs:{items:t.items,"item-key":"host","hide-default-footer":"","single-expand":t.expand},scopedSlots:t._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{color:t.navColor,dark:"",flat:"",dense:""}},[a("v-toolbar-title",[t._v("Discovery Agents")]),a("v-spacer"),a("v-spacer"),a("v-btn",{attrs:{color:t.navColor+" darken-2"},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus-box")]),a("span",[t._v("Add Discovery Agent")])],1)],1)]},proxy:!0},{key:"no-data",fn:function(){return[a("v-alert",{staticClass:"ma-8",attrs:{border:"left",type:"info"}},[a("span",[t._v("No Discovery Agents are defined. Please add one: "),a("v-btn",{attrs:{color:t.navColor+" darken-2",small:""},on:{click:function(e){e.stopPropagation(),t.dialog=!0}}},[a("span",[t._v("Add Discovery Agent")])])],1)])]},proxy:!0},{key:"default",fn:function(e){var o=e.items,i=e.isExpanded,n=e.expand;return[a("v-row",t._l(o,(function(e){return a("v-col",{key:e.host,attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[a("v-card",[a("v-toolbar",[a("v-toolbar-title",[a("span",[t._v(t._s(e.host))])]),a("v-spacer"),a("v-switch",{staticClass:"mt-4",attrs:{color:t.navColor,"input-value":i(e),label:i(e)?"Editing":"Edit"},on:{change:function(t){return n(e,t)}}})],1)],1),i(e)?a("v-row",[a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{label:"Discovery Hostname"},model:{value:e.host,callback:function(a){t.$set(e,"host",a)},expression:"item.host"}})],1),a("v-list-item-content",{staticClass:"align-end"})],1),a("v-list-item",[a("v-list-item-content",[a("v-text-field",{attrs:{label:"Agent URL"},model:{value:e.url,callback:function(a){t.$set(e,"url",a)},expression:"item.url"}})],1),a("v-list-item-content",{staticClass:"align-end"})],1),a("v-list-item",[a("v-divider")],1),a("v-list-item",[a("v-btn",{attrs:{color:"green"},on:{click:function(a){return t.save(e)}}},[t._v("Save")]),a("v-spacer"),a("v-btn",{attrs:{color:"red"},on:{click:function(a){return t.remove(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-delete")]),a("span",[t._v("Delete")])],1)],1)],1):t._e()],1)})),1)]}}])}),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline",class:t.navColor,attrs:{"primary-title":""}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus-box")]),a("span",[t._v("Add Discovery Agent")])],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Hostname",required:""},model:{value:t.newitem.host,callback:function(e){t.$set(t.newitem,"host",e)},expression:"newitem.host"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{value:"1234",label:"Port",hint:"Default discovery port is 1234",required:""},model:{value:t.newitem.port,callback:function(e){t.$set(t.newitem,"port",e)},expression:"newitem.port"}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[a("v-btn",{staticClass:"ma-2",attrs:{color:"green"},on:{click:function(e){return t.createAgent()}}},[t._v("Create Discovery Agent")]),a("v-btn",{staticClass:"ma-2",attrs:{color:"grey"},on:{click:function(e){t.dialog=!1}}},[t._v("Cancel")])],1)],1)],1),t.deleteitem?a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline red--text"},[t._v("Delete Agent: "),a("strong",[t._v(t._s(t.deleteitem.host))]),t._v("?")])]),a("v-card-text",[a("h3",[t._v(t._s(t.deleteitem.host))]),a("div",[t._v("Are you sure you want to delete this Discovery Agent?")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(e){t.deleteDialog=!1}}},[t._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"red darken-1"},on:{click:function(e){return t.removeAgent()}}},[t._v("Delete")])],1)],1)],1):t._e()],1)},i=[],n=(a("99af"),a("07ac"),{name:"ConfigDiscovery",components:{},data:function(){return{search:"",filter:{},dialog:!1,deleteDialog:!1,newitem:{},deleteitem:null,expand:!0}},computed:{items:function(){return Object.values(this.$store.state.data.discoveries)}},methods:{save:function(t){this.$store.commit("data/updateDiscovery",{key:t.host,data:t})},createAgent:function(){this.dialog=!1,this.logDebug("Creating new discovery agent: "+this.newitem.host);var t="ws",e={host:this.newitem.host,port:this.newitem.port,url:"".concat(t,"://").concat(this.newitem.host,":").concat(this.newitem.port)};this.$store.commit("data/addDiscovery",{key:e.host,data:e})},remove:function(t){this.deleteitem=t,this.deleteDialog=!0},removeAgent:function(){this.logDebug("Deleting agent: "+this.deleteitem.host),this.$store.commit("data/removeDiscovery",this.deleteitem.host),this.deleteitem=null}}}),s=n,r=a("2877"),l=a("6544"),c=a.n(l),d=a("0798"),v=a("8336"),m=a("b0af"),u=a("99d9"),f=a("62ad"),p=a("a523"),g=a("c377"),h=a("169a"),b=a("ce7e"),w=a("132d"),x=a("da13"),y=a("5d23"),D=a("0fd9"),_=a("2fa4"),k=a("b73d"),C=a("8654"),V=a("71d9"),A=a("2a7f"),$=Object(r["a"])(s,o,i,!1,null,null,null);e["default"]=$.exports;c()($,{VAlert:d["a"],VBtn:v["a"],VCard:m["a"],VCardActions:u["a"],VCardText:u["b"],VCardTitle:u["c"],VCol:f["a"],VContainer:p["a"],VDataIterator:g["a"],VDialog:h["a"],VDivider:b["a"],VIcon:w["a"],VListItem:x["a"],VListItemContent:y["a"],VRow:D["a"],VSpacer:_["a"],VSwitch:k["a"],VTextField:C["a"],VToolbar:V["a"],VToolbarTitle:A["b"]})}}]);
//# sourceMappingURL=ConfigDiscovery.acad68c3.js.map